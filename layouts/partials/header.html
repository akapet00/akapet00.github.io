<nav class="nav">
  <div class="nav-top">
    <a href="{{ .Site.BaseURL }}" class="nav-title">{{ .Site.Title }}</a>
    {{- partial "theme-toggle.html" . -}}
  </div>
  <div class="nav-links">
    <div class="nav-primary">
      {{ range first 2 .Site.Menus.main }}
      {{ $isActive := or (eq $.RelPermalink .URL) (and (ne .URL "/") (hasPrefix $.RelPermalink .URL)) }}
      <a href="{{ .URL }}"{{ if $isActive }} class="active"{{ end }}>{{ .Name }}</a>
      {{ end }}
    </div>
    <span class="nav-separator">|</span>
    <div class="nav-secondary">
      {{ range after 2 .Site.Menus.main }}
      {{ $isActive := or (eq $.RelPermalink .URL) (and (ne .URL "/") (hasPrefix $.RelPermalink .URL)) }}
      <a href="{{ .URL }}"{{ if $isActive }} class="active"{{ end }}>{{ .Name }}</a>
      {{ end }}
    </div>
    <button class="menu-toggle" aria-label="Toggle menu">
      <span class="menu-icon">
        <span class="menu-icon-bar"></span>
      </span>
    </button>
  </div>
</nav>
<script>
  (function() {
    var toggle = document.querySelector('.menu-toggle');
    var nav = document.querySelector('.nav-secondary');
    if (toggle && nav) {
      toggle.addEventListener('click', function() {
        nav.classList.toggle('open');
        toggle.classList.toggle('open');
      });
    }
  })();
</script>
